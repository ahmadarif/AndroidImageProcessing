package com.ahmadarif.imageprocessing.process.matcher;

import android.util.Log;

import com.ahmadarif.imageprocessing.process.text.similarity.TextDistance;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

/**
 * Created by ARIF on 03-Oct-16.
 */

public class Matcher {

    public static String process(String chainCode) {
        Map<String, String> dict = new HashMap<>();
        dict.put("0", "600000600600606606606660666666666666664666466466464464464444444444424424242424224222242222222222222022202202202002002000001");
        dict.put("1", "000000006666666666666666666666666666666666444444444222222222222222222222224464464644644422222220002002002020202022");
        dict.put("2", "0000000000000600060606606606666646646466464644646464464646466000000000000006666666444444444444444444444444444222202202202020202020202020020202002202022222424424446446466644444444422022202020202002");
        dict.put("3", "00000000000006006060606666666466464466006006066066666664664646464644464444444444424442424242422422000000000660606000002002220224222424424444222220000202202224224444446466644442444422202020202002");
//        dict.put("4", "");
        dict.put("5", "00000000000000000000006666666444444444444444466666000000000006006060606606666666646646646464464464444444444424442424242422220000000066600600000202022022224222424444444646444244444222022222202222220222");
//        dict.put("6", "");
        dict.put("7", "0000000000000000000000000006666666464646464646646646646646664666646666666444444444220222220222202202220202202202022022244444444444444442222222");
        dict.put("8", "0000000000006006060606066666646646466606060660666666646466464464464444444444442444244224242242222220220202002224424224222220220202020002");
        dict.put("9", "0000000000006006060606066066606666666666666646664646646464464464444444444424424242424220020000006060600000202202222224464464444444244244242242242222222202202020202002");
        dict.put("A", "0000000000006606606660666066066606660666066066606606660664444444444224222424444444444446466646644444444422202220220222022202220220222022022202220222");
        dict.put("B", "0000000000000000000000006006060660666666464646466060060606660666466646646446444644444444444444444444444222222222222222222222222222222222");
        dict.put("C", "000000000060006006060606606606444644444424242424444446446646466666666666660606060060000200202022020000060006664664646644646446444464444424444424442424242422422422242222222222022202202202002020020002");
        dict.put("D", "000000000000000000000600600606060660666066666666666664666464646644646444644444444444444444444222222222222222222222222222222222");
        dict.put("E", "00000000000000000000000000066666644444444444444444666666000000000000000066666644444444444444446666666600000000000000000066666664444444444444444444444444444222222222222222222222222222222222");
        dict.put("F", "000000000000000000000000066666644444444444444464666666000000000000006666664444444444444466666666666666444444444222222222222222222222222222222222");
        dict.put("G", "0000000000060000606006606066064444644444424242444444446464646646666666666066606060060000000200200222244444442222222000000000000000666666666666666446464464446444444644444244444244244242242424222422242222222022220220220202020020020002");
        dict.put("H", "00000000066666666666600000000000002222222222220000000000666666666666666666666666666666666444444444422222222222222444444444444466666666666666444444444222222222222222222222222222222222");
        dict.put("I", "00000000006666666666666666666666666666666664444444444222222222222222222222222222222222");
        dict.put("J", "0000000006666666666666666666666666664664646464644644444444444244424242424222422200020000006660606000020220222222222222222222222222");
//        dict.put("K", "");
        dict.put("L", "000000000666666666666666666666666660000000000000000066666666444444444444444444444444442222222222222222222222222222222222");
        dict.put("M", "00000000000000666606666066660666606666002202222022220222202222022000000000000066666666666666666666666666666666664444444422222222222222222222222446666466664666646666466664666444444424222242222422224222242222422244666666666666666666666666444444442222222222222222222222222222222222");
        dict.put("N", "000000000606066060660606606066060660606002222222222222222220000000006666666666666666666666666666666666444444444242422424224242422424224242242446666666666666666664444444442222222222222222222222222222222222");
        dict.put("O", "60000006000606006060606606660666666666666466646466464644646444644444444444424442442424242422422422222222222222022022020202020020002000001");
        dict.put("P", "0000000000000000000060006006060666066666664664646464644464444444444466666666666664444444442222222222222222222222222222222222");
        dict.put("Q", "0000000000000600060600606606066066660666666664666646646660606006466466442442424244446444444444444244424424242424242242222422222222022220220202202002002002");
        dict.put("R", "000000000000000000000060006006066066066666466464646464466060606066066066066066064444444444422422422422424224224244444666666666666664444444442222222222222222222222222222222222");
        dict.put("S", "000000006000060600606606660544444444242242444444464666060600006000060006006006066066066666466466464646446444464444444442444244244224242242220000020000666060606000000200222224242444244442444244242442242422222202202020200200002");
        dict.put("T", "00000000000000000000000000000006666666444444444464666666666666666666666666644444444422222222222222222222222224244444444442222222");
        dict.put("U", "000000000666666666666666666666066606060060000200202022222222222222222222222200000000006666666666666666666666646664664646464644644464444444442444424424424242242224222222222222222222222222");
//        dict.put("V", "");
//        dict.put("W", "");
//        dict.put("X", "");
        dict.put("Y", "000000000006060660660606606000220202202022022000000000005646466466464646646466464664646666666666666664444444444222222222222222242424224242242422424224242243");
        dict.put("z", "000000000000000000000000000006666666464646464646464646464646464646464646660000000000000000000666666444444444444444444444444444444442222220220202020202020202020202020202020202224444444444444444222222");


        List<String> keys = new ArrayList<>();
        List<Integer> distances = new ArrayList<>();
        for (String key : dict.keySet()) {
            keys.add(key);
            distances.add(TextDistance.levenshteinDistance(chainCode, dict.get(key)));
//            Log.i("TES", key + " : " + TextDistance.editDistance(chainCode, dict.get(key)));
        }

        String minKey = keys.get(0);
        int minDistance = distances.get(0);
        for (int i = 1; i < keys.size(); i++) {
            if (distances.get(i) < minDistance) {
                minKey = keys.get(i);
                minDistance = distances.get(i);
            }
        }

        return minKey;
    }

}
